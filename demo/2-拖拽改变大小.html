<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			*{
				padding: 0;
				margin: 0;
			}
			#box{
				width: 100px;
				height: 100px;
				background: #25CAF3;
				position: absolute;
				top: 200px;
				left: 400px;
			}
		</style>
		<script>
			window.onload=function(){
				var box=document.getElementById("box");
				
				//鼠标方向
				box.onmousemove=function(ev){
					var t=ev.clientY-Pos(box).top;
					var r=Pos(box).right-ev.clientX;
					var d=Pos(box).bottom-ev.clientY;
					var l=ev.clientX-Pos(box).left;
					
					if(t<=2||d<=2){
						box.style.cursor='ns-resize';
					}else if(l<=2||r<=4){
						box.style.cursor='ew-resize';
					}else{
						box.style.cursor='auto';
					}
					
					if(l<=4&&t<=4){
						box.style.cursor='nw-resize';
					}
					if(r<=4&&t<=4){
						box.style.cursor='ne-resize';
					}
					if(r<=4&&d<=4){
						box.style.cursor='se-resize';
					}
					if(d<=4&&l<=4){
						box.style.cursor='sw-resize';
					}
				};
				
				//拖拽改变大小
				box.onmousedown=function(ev){
					var t=ev.clientY-Pos(box).top;
					var r=Pos(box).right-ev.clientX;
					var d=Pos(box).bottom-ev.clientY;
					var l=ev.clientX-Pos(box).left;
					var disX=ev.clientX;
					var disY=ev.clientY;
					var w=box.clientWidth;
					var h=box.clientHeight;
					var boxTop=Pos(box).top;
					var boxLeft=Pos(box).left;
					
					if(t<=2){
						document.onmousemove=function(ev){
							Top(disY,ev,boxTop,h);
						}
						
					}else if(r<=4){
						document.onmousemove=function(ev){
							Right(ev,disX,w);
						}
						
					}else if(d<=2){
						document.onmousemove=function(ev){
							down(ev,disY,h);
						}
						
					}else if(l<=2){
						document.onmousemove=function(ev){
							left(ev,disX,w,boxLeft);
						}
					}
					
					if(l<=4&&t<=4){
						document.onmousemove=function(ev){
							left(ev,disX,w,boxLeft);
							Top(disY,ev,boxTop,h);
						}
					}
					if(r<=4&&t<=4){
						document.onmousemove=function(ev){
							Top(disY,ev,boxTop,h);
							Right(ev,disX,w);
						}
					}
					if(r<=4&&d<=4){
						document.onmousemove=function(ev){
							Right(ev,disX,w);
							down(ev,disY,h);
						}
					}
					if(d<=4&&l<=4){
						document.onmousemove=function(ev){
							down(ev,disY,h);
							left(ev,disX,w,boxLeft);
						}
					}
					
					document.onmouseup=function(){
						document.onmousemove=null;
					};
				}
				
				function Pos(obj){
					return obj.getBoundingClientRect();
				}
				
				function Top(disY,ev,boxTop,h){
					var newHeight=disY-ev.clientY+h;
					if(newHeight<100){
						newHeight=100;
						box.style.height=newHeight+'px';
						box.style.top=box.offsetTop+'px';
						return;
					}
					box.style.height=newHeight+'px';
					box.style.top=boxTop-(disY-ev.clientY)+'px';
				}
				function Right(ev,disX,w){
					var newWidth=ev.clientX-disX+w;
					if(newWidth<100){
						newWidth=100;
					}
					box.style.width=newWidth+'px';
				}
				function down(ev,disY,h){
					var newHeight=ev.clientY-disY+h;
					if(newHeight<100){
						newHeight=100;
					}
					box.style.height=newHeight+'px';
				}
				function left(ev,disX,w,boxLeft){
					var newWidth=disX-ev.clientX+w;
					if(newWidth<100){
						newWidth=100;
						box.style.width=newWidth+'px';
						box.style.left=400+'px';
						return;
					}
					box.style.width=newWidth+'px';
					box.style.left=boxLeft+(ev.clientX-disX)+'px';
				}
			}
		</script>
	</head>
	<body>
		<div id="box"></div>
	</body>
</html>
